
<table class="table"><tbody>
<% if videos.any? %>
<% pending.each do |video| %>
<th>Видео в очереди</th>
<tr>
<td><%= video.id %></td>
<td><a href="<%= video.url %>"><%= video.url %></a></td>
<td><%= video.location_path %></td>
<td><%= VideoState.key(video.state) %></td>
<td><%= video.updated_at %></td>
</tr>
<% end %>
<% else %>
<th>Пока нет видео</th>
<% end %>
</tbody></table>

<p class="btn"><a href="<%= routes.new_video_path %>">Загрузить новое видео</a></p>

<table class="table"><tbody>
<% if active.any? %>
<th>Скачиваются</th>
<% active.each do |video| %>
<tr>
<td><%= video.id %></td>
<td><a href="<%= video.url %>"><%= video.url %></a></td>
<td><%= video.location_path %></td>
<td><%= VideoState.key(video.state) %></td>
<td><%= video.updated_at %></td>
</tr>
<% end %>
<% end %>

<% if error.any? %>
<h3>Ошибка</h3>
<% error.each do |video| %>
<tr>
<td><%= video.id %></td>
<td><a href="<%= video.url %>"><%= video.url %></a></td>
<td><%= video.location_path %></td>
<td><%= VideoState.key(video.state) %></td>
<td><%= video.updated_at %></td>
</tr>
<% end %>
<% end %>

<% if completed.any? %>
<th>Завершенные</th>
<% completed.each do |video| %>
<tr>
<td><%= video.id %></td>
<td><a href="<%= video.url %>"><%= video.url %></a></td>
<td><%= video.location_path %></td>
<td><%= VideoState.key(video.state) %></td>
<td><%= video.updated_at %></td>
</tr>
<% end %>
<% end %>

<% if unknown.any? %>
<h3>Неизвестное состояние</h3>
<% unknown.each do |video| %>
<tr>
<td><%= video.id %></td>
<td><a href="<%= video.url %>"><%= video.url %></a></td>
<td><%= video.location_path %></td>
<td><%= VideoState.key(video.state) %></td>
<td><%= video.updated_at %></td>
</tr>
<% end %>
<% end %>
</tbody>
</table>

